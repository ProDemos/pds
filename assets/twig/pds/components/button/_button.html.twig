
{# TODO: add all possible themes to the theme-list in the validate_context #}
{% set cx = {
    container: html_classes({
        'primary': level == 'primary' and size != 'small',
        'secondary': level == 'secondary',
        'toggle': level == 'toggle',
        'transparent': level == 'transparent',
        't-corporate': theme == 'corporate',
        't-theme2': theme == 'theme2',
        't-theme3': theme == 'theme3',
        't-theme4': theme == 'theme4',
        't-theme5': theme == 'theme5',
        't-theme6': theme == 'theme6',
        't-theme7': theme == 'theme7',
        'large': size == 'large',
        'regular': size == 'regular',
        'small': size == 'small',
        'accent': accent,
        'disabled': disabled
    })
} %}

{% set tag = url ? 'a' : (type ? 'button' : 'div') %}

{% set attrs = {
    href: url,
    type: type and not url ? type,
    target: new_window ? '_blank',
    rel: new_window ? 'noreferrer  noopener',
} | filter((attr) => attr is not empty)
| map((value, attr) => '%s="%s"'|format(attr, value|escape))
%}

<{{ tag }}
    class="pds-c-button  {{ cx.container }}  {{ js_hook }}"
    data-component="button"{% if attrs is not empty %} {{ attrs|join(' ')|raw }}{% endif %}>
    {% block button_content '' %}
</{{ tag }}>

