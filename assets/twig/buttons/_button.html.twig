
{# TODO: add all possible themes to the theme-list in the validate_context #}
{#% if app.debug %}
    {{ _context|validate_context({
        level: 'in:primary,secondary,toggle,transparent',
        theme: 'in:corporate,theme2,theme3,theme4,theme5,theme6,theme7,theme8',
        size: 'in:large,regular,small',
        accent: 'in:1,0',
        full_width: 'in:1,0',
        new_window: 'in:1,0',
        type: 'in:submit',
        disabled: 'in:1,0'
    }) }}
{% endif %#}

{% set cx = {
    container: html_classes({
        'c-btn--primary': level == 'primary' and size != 'small',
        'c-btn--secondary': level == 'secondary',
        'c-btn--toggle': level == 'toggle',
        'c-btn--transparent': level == 'transparent',
        'c-btn--corporate': theme == 'corporate' or not theme,
        'c-btn--theme2': theme == 'theme2',
        'c-btn--theme3': theme == 'theme3',
        'c-btn--theme4': theme == 'theme4',
        'c-btn--theme5': theme == 'theme5',
        'c-btn--theme6': theme == 'theme6',
        'c-btn--theme7': theme == 'theme7',
        'c-btn--large': size == 'large',
        'c-btn--regular': size == 'regular',
        'c-btn--small': size == 'small',
        'c-btn--accent': accent,
        'c-btn--disabled': disabled
    })
} %}

{% set tag = url ? 'a' : (type ? 'button' : 'div') %}

{% set attrs = {
    href: url,
    type: type and not url ? type,
    target: new_window ? '_blank',
    rel: new_window ? 'noreferrer  noopener',
} | filter((attr) => attr is not empty)
| map((value, attr) => '%s="%s"'|format(attr, value|escape))
%}

<{{ tag }}
    class="c-btn  {{ cx.container }}  {{ js_hook }}"
    data-component="button"{% if attrs is not empty %} {{ attrs|join(' ')|raw }}{% endif %}>
    {% block button_content '' %}
</{{ tag }}>

