
// -----------------------------------------------------------------------------
//  COMPONENT .pds-c-input
// .pds-c-input[.disabled]
//  input[type=text].pds-c-input [.valid|.invalid]
//  select.pds-c-input [.fullwidth]
// .pds-c-input.container[.radio|.checkbox]
// .pds-c-input-container.radio > input[type=radio] + .pds-c-input-check + label
// .pds-c-input-container.checkbox > input[type=checkbox] + .pds-c-input-check + label
// -----------------------------------------------------------------------------


.pds-c-input-container {

    margin-bottom: nth($pds-spacings, 5);

    // Radiobutton
    &.radio {

        
        // The label
        label, .pds-c-input-label {
            display: block;
            position: relative;
            padding: nth($pds-spacings, 4) nth($pds-spacings, 6) nth($pds-spacings, 4) nth($pds-spacings, 9);
            margin: nth($pds-spacings, 4) auto;
            z-index: 2;
            cursor: pointer;
            transition: all 0.25s linear;
        }

        input[type=radio], .pds-c-input.radio {
            position: absolute;
            visibility: hidden;
        }

        // The checkable element (replaces the invisible radio-input)
        .pds-c-input-check {
            display: block;
            position: absolute;
            border: 1px solid pds-color(grey);
            border-radius: 100%;
            background-color: pds-color(romance);
            height: nth($pds-spacings, 6);
            width: nth($pds-spacings, 6);
            top: nth($pds-spacings, 4);
            left: nth($pds-spacings, 5);
            z-index: 5;
            transition: border 0.25s linear;
            cursor: pointer;

            // The radio tick
            &::before {
                display: block;
                position: absolute;
                content: "";
                border-radius: 100%;
                height: nth($pds-spacings, 4);
                width: nth($pds-spacings, 4);
                top: 3px;
                left: 3px;
                margin: auto;
                transition: background 0.25s linear;
            }
        }
        
    }
    &.checkbox {
       
        // The label
        label, .c-input-label {
            display: block;
            position: relative;
            padding: nth($pds-spacings, 4) nth($pds-spacings, 6) nth($pds-spacings, 4) nth($pds-spacings, 9);
            margin: nth($pds-spacings, 4) auto;
            z-index: 2;
            cursor: pointer;
            transition: all 0.25s linear;
        }


        // The radio input itself
        input[type=checkbox],.pds-c-input.checkbox {
            position: absolute;
            visibility: hidden;
        }

        // The checkable element (replaces the invisible checkbox)
        .pds-c-input-check {
            display: block;
            position: absolute;
            border: 1px solid pds-color(grey);
            background-color: pds-color(romance);
            height: nth($pds-spacings, 6);
            width: nth($pds-spacings, 6);
            top: nth($pds-spacings, 4);
            left: nth($pds-spacings, 5);
            z-index: 5;
            transition: border 0.25s linear;
            cursor: pointer;
        
            // The checkbox tick
            &::before {
                display: block;
                position: absolute;
                content: "";
                height: nth($pds-spacings, 4);
                width: nth($pds-spacings, 4);
                top: 3px;
                left: 3px;
                margin: auto;
                transition: background 0.25s linear;
            }
            
        }
    }

}


// The default label styling
.pds-c-input-label {
    margin-bottom: nth($pds-spacings, 5);
    color: pds-color(black);
    font-family: $font--fira-sans;
    font-size: nth($pds-font-sizes, 7);
    font-weight: 500;
}



// Basic input styling, shared by all inputs
.pds-c-input {
    color: pds-color(black);
    font-family: $font--fira-sans;
    font-size: nth($pds-font-sizes, 7);
    line-height: nth($pds-line-heights, 5);
    border-radius: 0;
    background-color: pds-color(romance);

    /* stylelint-disable property-no-vendor-prefix */
    -webkit-appearance: none;
    /* stylelint-enable property-no-vendor-prefix */

    &.disabled {
        color: lighten(pds-color(black), nth($pds-lighten-scale, 5));
        background-color: lighten((pds-color(romance)), nth($pds-lighten-scale, 1));
        cursor: not-allowed;
    }

    &[type=text], &.text {

        padding: nth($pds-spacings, 4) nth($pds-spacings, 9) nth($pds-spacings, 3) nth($pds-spacings, 6);
        border: none;
        border-bottom: 3px solid pds-color(romance);
        transition: border-bottom-color 150ms ease-in-out;

        

        // When the user added valid input
        &.valid {
            background-image: url("#{$pds-assets-path}/images/icons/24px/check-green.svg");
            background-position: top 13px right 15px;
            background-repeat: no-repeat;
            background-size: 24px 24px;
            border-bottom-color: pds-color(green);
        }

        // When the user added invalid input
        &.invalid {
            background-image: url("#{$pds-assets-path}/images/icons/24px/error-red.svg");
            background-position: top 13px right 15px;
            background-repeat: no-repeat;
            background-size: 24px 24px;
            border-bottom-color: pds-color(red);
        }
    }

    @at-root select#{&}, &.dropdown {
        padding: nth($pds-spacings, 4) nth($pds-spacings, 9) nth($pds-spacings, 4) nth($pds-spacings, 6);
        border: none;
        border-bottom: 2px solid pds-color(transparent);
        background-image: url("#{$pds-assets-path}/images/icons/24px/arrows-dropdown.svg");
        background-position: top 13px right 15px;
        background-repeat: no-repeat;
        background-size: 24px 24px;
        cursor: pointer;
        transition: border-bottom-color 150ms ease-in-out;

        // When full width is required
        &.full-width {
            width: 100%;
        }
  
    }

    &.radio {

        // this is hidden, but only in a 
        // pds-c-input-container with a
        // visible check

    }
    &.checkbox {
        // this is hidden, but only in a 
        // pdx-c-input-container with a 
        // visible check
    }

}


// ----theming -------
      

@mixin pds-c-input-container-theme($theme : $pds-deftheme) {
    &.radio {
        input[type=radio], .pds-c-input.radio {
            &:checked ~ .pds-c-input-check {
                border: 1px solid darken(pds-theme-color($theme,fill), nth($pds-darken-scale, 1));

                &::before {
                    background-color: darken(pds-theme-color($theme,fill), nth($pds-darken-scale, 1));
                }
            }
        }
        @include hover {
            .c-input-check {
                border-color: darken(pds-theme-color($theme,fill), nth($pds-darken-scale, 1));
            }
        }
    }
    &.checkbox {
        input[type=checkbox], .pds-c-input.checkbox {
            &:checked ~ .pds-c-input-check {
                border: 1px solid darken(pds-theme-color($theme,fill), nth($pds-darken-scale, 1));
                &::before {
                    background-color: darken(pds-theme-color($theme,fill), nth($pds-darken-scale, 1));
                }
            }
        }
        @include hover {
            .c-input-check {
                border-color: darken(pds-theme-color($theme,fill), nth($pds-darken-scale, 1));
            }
        }
    }
}

@mixin pds-c-input-theme($theme : $pds-deftheme) {
    &[type=text], &.text {
        &:focus {
            border-bottom-color: darken(pds-theme-color($theme,fill), nth($pds-darken-scale, 1));
        }
    }
}

@mixin pds-c-select-theme($theme : $pds-deftheme) {
    &:focus,
    &:hover {
        border-bottom-color: darken(pds-theme-color($theme,fill), nth($pds-darken-scale, 1));
    }
}
   

.pds-c-input-container {
    @include pds-c-input-container-theme();
}

.pds-c-input {
   @include pds-c-input-theme();
}
    
select.pds-c-input, 
.pds-c-input.dropdown {
    @include pds-c-select-theme();
}


@each $theme in map-keys($pds-themes) {

    .pds-c-input-container {
        .pds-t-#{$theme} &,
        &.pds-t-#{$theme}:not(.inherit) {
            @include pds-c-input-container-theme($theme);
        }
    }

    .pds-c-input {
        .pds-t-#{$theme} &,
        &.pds-t-#{$theme}:not(.inherit) {
            @include pds-c-input-theme($theme);
        }
    }
        
    select.pds-c-input, 
    .pds-c-input.dropdown {
        .pds-t-#{$theme} &, 
        &.pds-t-#{$theme}:not(.inherit) {
            @include pds-c-select-theme($theme);
        }
    }
}
      